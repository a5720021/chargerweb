<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase-database.js"></script>

<script>
    class Firebase {

        constructor() {
            var config = {
                apiKey: "AIzaSyDpBtpDYu0a4roRChP0yWBgAu9yPB3lrjc",
                authDomain: "ocpp-database.firebaseapp.com",
                databaseURL: "https://ocpp-database.firebaseio.com",
                storageBucket: "ocpp-database.appspot.com",
            };
            firebase.initializeApp(config);
        }

        test() {
            console.log("test");
        }

        db() {
            return firebase.database();
        }

        allMarker(callback) {
            var arr = [];
            fb.db().ref('/chargerstation').on('value', function (snapshot) {
                snapshot.forEach(function (childSnapshot) {
                    var childData = childSnapshot.val();

                    arr.push(childData.position);
                });
                callback(arr);
            });
        }
        checkLogin() {
            // var arr = [];
            fb.db().ref('authorize').orderByChild('email').equalTo('a5720187@gmail.com').on('value', function (snapshot) {
                console.log(snapshot.val());
                snapshot.forEach(function (childSnapshot) {
                    // var childData = childSnapshot.val();
                    console.log(childSnapshot.key);
                    // console.log(childSnapshot.val());
                });
            });
        }
    }

    window.fb = new Firebase();

</script>